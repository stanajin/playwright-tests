# Playwright Automation Implementation Documentation

This document outlines the current architecture and implementation details of the Playwright automation framework.

## 1. Project Structure

The project follows a modular structure separating Page Objects, Tests, Configuration, and BDD features.

```text
playwright-tests/
├── config/              # Configuration files
├── data/                # Test data
├── features/            # Behave BDD features and steps
├── fixtures/            # Pytest fixtures
├── pages/               # Page Object Models
├── tests/               # Pytest test scripts
├── utils/               # Utility scripts
├── conftest.py          # Global Pytest configuration & hooks
├── pytest.ini           # Pytest settings
├── requirements.txt     # Python dependencies
└── behave.ini           # BDD configuration
```

## 2. Core Technologies

- **Language**: Python
- **Browser Automation**: Playwright (Synchronous API)
- **Test Runner**: Pytest (for functional/unit tests) & Behave (for BDD)
- **Reporting**: pytest-html
- **Linting/Formatting**: (Assumed dependent on user's IDE setup)

## 3. Page Object Model (POM)

The application logic is encapsulated in Page Classes located in `pages/`.

- **`BasePage` (`pages/base_page.py`)**: The parent class for all pages. Contains common methods like `navigate`, `get_title`, and wrapper methods for Playwright actions.
- **`GooglePage` (`pages/google_page.py`)**: Models interactions with Google Search.
- **`RahulShettyPage` (`pages/rahul_shetty_page.py`)**: Models interactions with the Rahul Shetty Academy practice site.
- **`SaucePage` (`pages/sauce_page.py`)**: Models interactions with SauceDemo (likely).
- **`DataBaseConnection` (`pages/dataBaseConnection.py`)**: helper class for database connectivity.

## 4. Test Strategy

### Functional Tests (Pytest)
Located in `tests/`, these tests focus on specific functionality and regressions.
- **Run Command**: `pytest`
- **Configuration**: Managed via `pytest.ini` and `conftest.py`.

### Accessibility Tests
- **File**: `tests/test_accessibility.py`
- **Tool**: Uses `axe-playwright-python` to inspect pages for accessibility violations.

### Behavior Driven Development (BDD)
Located in `features/`, enabling Gherkin-syntax tests.
- **Run Command**: `behave`
- **Structure**:
    - `features/*.feature`: Gherkin feature files.
    - `features/steps/*.py`: Python step definitions.
    - `features/environment.py`: Behave lifecycle hooks (browser setup/teardown).

## 5. Configuration & Fixtures

- **`conftest.py`**:
    - Usage of `dotenv` to load environment variables.
    - Custom Pytest fixtures (e.g., `browser_context_args` for viewport settings).
    - HTML Report customization (`pytest_html_report_title`, `pytest_metadata`).
- **`pytest.ini`**:
    - Configures default CLI options (e.g., `--browser chromium`, `--headed`).
    - Sets base URL and test discovery paths.

## 6. Key Dependencies

- `pytest-playwright`: Core integration.
- `behave`: BDD framework.
- `axe-playwright-python`: Accessibility testing.
- `python-dotenv`: Environment variable management.
- `mysql-connector-python`: Database connectivity.

## 7. Reporting

- **HTML Reports**: Generated by `pytest-html`, typically output to `reports/` or `playwright-report/`.
- **Screenshots/Video**: Configurable via Playwright settings (often set to retain on failure).
